<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.cecilia.programmer.dao.admin.ExamPaperDao">
    <!--试卷插入操作-->
    <insert id="add" parameterType="com.cecilia.programmer.entity.admin.ExamPaper">
        insert into examPaper(id,examId,studentId,status,totalScore,score,createTime) values(null,#{examId},#{studentId},#{status},#{totalScore},#{score},#{createTime}) 
    </insert>
    <!--试卷更新操作-->
    <update id="edit" parameterType="com.cecilia.programmer.entity.admin.ExamPaper">
        update examPaper set examId=#{examId}, studentId=#{studentId} where id = #{id} 
    </update>
    <!--试卷搜索，查询-->
    <select id="findList" parameterType="Map" resultType="com.cecilia.programmer.entity.admin.ExamPaper">
        select * from examPaper where 1 = 1 
            <if test="examId != null">
                and examId = #{examId} 
            </if>
            <if test="studentId != null">
                and studentId = #{studentId} 
            </if>
            <if test="status != null">
                and status = #{status} 
            </if>
    </select>
    <!-- 模糊搜索总条数 -->
    <select id="getTotal" parameterType="Map" resultType="Integer">
        select count(*) from examPaper where 1 = 1 
            <if test="examId != null">
                and examId = #{examId} 
            </if>
            <if test="studentId != null">
                and studentId = #{studentId} 
            </if>
            <if test="status != null">
                and status = #{status} 
            </if>
    </select>
    <!--删除试卷讯息-->
    <delete id="delete" parameterType="Long">
        delete from examPaper where id = ${value} 
    </delete>
</mapper>
