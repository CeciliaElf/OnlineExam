# 在线考试系统测试用例文档

> **说明：**
> 本文件为本项目的测试用例文档，适用于任何克隆（clone）本项目的开发者或测试人员。请在完成项目克隆和依赖环境配置后，参考本文件中的用例对主要功能进行接口测试和功能验证。建议结合Postman、curl或自动化测试脚本进行操作。测试前请确保数据库已初始化并有充足的题库数据，且已正确配置好运行环境。下方给出核心接口测试参数和期望结果，如需测试其他接口可参考本文件的功能测试。

## 目录
- [1. 管理端功能测试](#1-管理端功能测试)
  - [1.1 新增考试](#11-新增考试)
  - [1.2 查询考试列表](#12-查询考试列表)
  - [1.3 编辑考试](#13-编辑考试)
  - [1.4 删除考试](#14-删除考试)
- [2. 前台考生端功能测试](#2-前台考生端功能测试)
  - [2.1 开始考试](#21-开始考试)
  - [2.2 提交答卷](#22-提交答卷)
- [3. 注意事项](#3-注意事项)

---

## 1. 管理端功能测试

### 1.1 新增考试
- **测试代码/接口**：POST `/admin/exam/add`
- **请求参数**：Exam对象（含考试名称、科目、开始/结束时间、题目数量等）
- **期望结果**：
  - 正确参数：返回 `{ "type": "success", "msg": "添加成功" }`
  - 缺少必填项：返回 `{ "type": "error", "msg": "请填写xxx" }`
  - 题库数量不足：返回 `{ "type": "error", "msg": "xxx题数量超过题库总数，请修改" }`

### 1.2 查询考试列表
- **测试代码/接口**：POST `/admin/exam/list`
- **请求参数**：name（可选）、subjectId（可选）、startTime、endTime、page、pageSize
- **期望结果**：
  - 返回 `{ "rows": [...], "total": n }`，rows为考试列表，total为总数

### 1.3 编辑考试
- **测试代码/接口**：POST `/admin/exam/edit`
- **请求参数**：Exam对象（含ID及需修改内容）
- **期望结果**：
  - 修改成功：`{ "type": "success", "msg": "修改成功" }`
  - 修改失败或参数错误：`{ "type": "error", "msg": "请填写xxx" }`

### 1.4 删除考试
- **测试代码/接口**：POST `/admin/exam/delete`
- **请求参数**：id（考试ID）
- **期望结果**：
  - 删除成功：`{ "type": "success", "msg": "删除成功" }`
  - 删除失败：`{ "type": "error", "msg": "删除失败，请联系管理员" }`

---

## 2. 前台考生端功能测试

### 2.1 开始考试
- **测试代码/接口**：POST `/home/exam/start_exam`
- **请求参数**：examId
- **期望结果**：
  - 合法考试：`{ "type": "success", "message": "可以开始考试" }`
  - 考试已结束：`{ "type": "error", "message": "该考试已结束" }`
  - 学科不符：`{ "type": "error", "message": "学科不同，无权进行考试" }`
  - 题库数量不足：`{ "type": "error", "message": "xxx题数量超过题库总数，无法生成试卷" }`

### 2.2 提交答卷
- **测试代码/接口**：POST `/home/exam/submit_exam`
- **请求参数**：examId, examPaperId, 答案内容
- **期望结果**：
  - 提交成功：`{ "type": "success", "message": "提交成功" }`
  - 提交失败：`{ "type": "error", "message": "提交失败，请联系管理员" }`

---

## 3. 注意事项
- 测试时需保证数据库中有充足的题库数据，否则部分用例会因题库不足而失败。
- 时间相关测试需注意考试的开始和结束时间，避免用例因时间不符导致失败。
- 所有接口均需在登录状态下访问，未登录用户应被拦截。
- 建议使用Postman等工具进行接口测试，或编写自动化测试脚本。
- 若有自定义拦截器或权限控制，需确保测试用户有相应权限。